const login=e=>{event.preventDefault();e={username:e.elements.username.value,password:e.elements.password.value};sendData("/login",e)},updateProfile=async(e,o)=>{console.log(e),console.log(o)},editForm=document.getElementById("form");if(editForm){const f=editForm.querySelectorAll("input"),g=editForm.querySelectorAll("select");for(i=0;i<f.length;i++)"lng"===f[i].id||f[i].addEventListener("change",()=>{updateProfile(editForm,f[i])})}const sendData=async(e,o)=>{xhr=new XMLHttpRequest;const t=document.querySelector(".error-display");let n=[];for(property in o){var r=encodeURIComponent(property),s=encodeURIComponent(o[property]);n.push(r+"="+s)}n=n.join("&");try{xhr.open("POST",e),xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),xhr.onload=function(){200==this.status&&"logged in"===this.responseText?window.location.replace("/"):t.innerHTML=this.responseText},xhr.send(n)}catch(e){console.log(e)}};